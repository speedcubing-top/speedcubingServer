package top.speedcubing.server.ExploitFixer;

import org.bukkit.Bukkit;
import top.speedcubing.server.player.User;
import top.speedcubing.server.speedcubingServer;

import java.util.Timer;
import java.util.TimerTask;

public class ForceOp {
    public void run() {
        new Timer("Cubing-ForceOP-Thread").schedule(new TimerTask() {
            @Override
            public void run() {
                for (User user : User.usersByID.values()) {
                    if (!user.allowOp && user.player.isOp())
                        Bukkit.getScheduler().runTask(speedcubingServer.getPlugin(speedcubingServer.class), () -> user.player.kickPlayer(""));
                }
            }
        }, 0, 1000);
    }
}
