package speedcubing.server.ExploitFixer;

import org.bukkit.Bukkit;
import org.bukkit.event.Listener;
import speedcubing.server.libs.User;
import speedcubing.server.speedcubingServer;

import java.util.Timer;
import java.util.TimerTask;

public class ForceOp implements Listener {
    public void run() {
        new Timer().schedule(new TimerTask() {
            @Override
            public void run() {
                for (User user : User.usersByID.values()) {
                    if (!user.allowOp && user.player.isOp())
                        Bukkit.getScheduler().runTask(speedcubingServer.getPlugin(speedcubingServer.class), () -> user.player.kickPlayer(""));
                }
            }
        }, 0, 1000);
    }
}
